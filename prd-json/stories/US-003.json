{
  "id": "US-003",
  "title": "AST-aware code chunking with tree-sitter",
  "description": "Implement and test AST-aware chunking for code blocks. Use tree-sitter to identify semantic boundaries (functions, classes) rather than arbitrary line splits.",
  "priority": "high",
  "dependsOn": ["US-001"],
  "acceptanceCriteria": [
    { "text": "tree-sitter-languages is installed and importable", "checked": false },
    { "text": "Test: Python function definitions are kept as single chunks", "checked": false },
    { "text": "Test: TypeScript/JavaScript functions are chunked at semantic boundaries", "checked": false },
    { "text": "Test: Large files are split at class/function boundaries, not mid-function", "checked": false },
    { "text": "Test: Fallback to line-based chunking when tree-sitter fails", "checked": false },
    { "text": "Test: Stack traces are never split (single chunk regardless of size)", "checked": false },
    { "text": "Chunks target ~2000 chars (~500 tokens)", "checked": false },
    { "text": "Run CodeRabbit review - must pass (or create BUG if unfixable)", "checked": false },
    { "text": "Commit: feat: US-003 AST-aware code chunking", "checked": false }
  ],
  "passes": false,
  "failedAttempts": 0
}
